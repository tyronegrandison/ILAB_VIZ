<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<link rel="stylesheet" type="text/css" href="styles/normalize.css" media="all">
<link rel="stylesheet" type="text/css" href="styles/themes.css" media="all">
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="scripts/topojson.min.js"></script>
<script src="scripts/datamaps.world.min.js"></script>
<script type="text/javascript">
	window.onload = function() {
	//d3.json("data/countries2013.json", function(error, data) {
		//console.log(data);
	//	for (var country in data) {
//			var countries = data[country];
//			if (countries.Goods && countries.Goods != '') {
//				console.log("Country: " + countries.Country);
//				for (var good in countries.Goods) {
//					console.log(countries.Goods[good].Good_Name);
//				}
//				console.log("");
//			}
//		}

		//function to convert iso 2 to iso 3
		var iso2=['AF','AX','AL','DZ','AS','AD','AO','AI','AQ','AG','AR','AM','AW','AU','AT','AZ','BS','BH','BD','BB','BY','BE','BZ','BJ','BM','BT','BO','BQ','BA','BW','BV','BR','BQ','IO','BN','BG','BF','BU','BI','BY','CV','KH','CM','CA','CT','KY','CF','TD','CL','CN','CX','CS','CC','CO','KM','CD','CG','CK','CR','CI','HR','CU','CW','CY','CZ','DY','DK','DJ','DM','DO','NQ','TP','EC','EG','SV','GQ','ER','EE','ET','FK','FO','FJ','FI','FR','FX','AI','GF','PF','TF','FQ','GA','GM','GE','DE','DD','GH','GI','GE','GR','GL','GD','GP','GU','GT','GG','GN','GW','GY','HT','HM','VA','HN','HK','HU','IS','IN','ID','IR','IQ','IE','IM','IL','IT','JM','JP','JE','JT','JO','KZ','KE','KI','KP','KR','KS','KW','KG','KV','LA','LV','LB','LS','LR','LY','LI','LT','LU','MO','MK','MG','MW','MY','MV','ML','MT','MH','MQ','MR','MU','YT','MX','FM','MI','MD','MC','MN','ME','MS','MA','MZ','MM','NA','NR','NP','NL','ANT','NT','NC','NH','NZ','NI','NE','NG','NU','NF','MP','NO','OM','PC','PK','PW','PS','PA','PZ','PG','PY','PE','PH','PN','PL','PT','PR','QA','RE','RO','RU','RW','BL','SH','KN','LC','MF','PM','VC','WS','SM','ST','SA','SN','RS','CS','SC','SL','SK','SG','SX','SK','SI','SB','SO','RH','ZA','GS','SS','ES','LK','SD','SR','SJ','SZ','SE','CH','SY','TW','TJ','TZ','TZ','TH','TL','TG','TK','TO','TT','TN','TR','TM','TC','TV','UG','UA','AE','GB','UM','PU','US','HV','UY','SU','UZ','VU','VE','VN','VD','VG','VI','WK','WF','WB','EH','YE','YD','YU','ZR','ZM','ZW'];
		var iso3=['AAFG','ALA','ALB','DZA','ASM','AND','AGO','AIA','ATA','ATG','ARG','ARM','ABW','AUS','AUT','AZE','BHS','BHR','BGD','BRB','BLR','BEL','BLZ','BEN','BMU','BTN','BOL','BES','BIH','BWA','BVT','BRA','ATB','IOT','BRN','BGR','BFA','BUR','BDI','BYS','CPV','KHM','CMR','CAN','CTE','CYM','CAF','TCD','CHL','CHN','CXR','CSK','CCK','COL','COM','COD','COG','COK','CRI','CIV','HRV','CUB','CUW','CYP','CZE','DHY','DNK','DJI','DMA','DOM','ATN','TMP','ECU','EGY','SLV','GNQ','ERI','EST','ETH','FLK','FRO','FJI','FIN','FRA','FXX','AFI','GUF','PYF','ATF','ATF','GAB','GMB','GEO','DEU','DDR','GHA','GIB','GEL','GRC','GRL','GRD','GLP','GUM','GTM','GGY','GIN','GNB','GUY','HTI','HMD','VAT','HND','HKG','HUN','ISL','IND','IDN','IRN','IRQ','IRL','IMN','ISR','ITA','JAM','JPN','JEY','JTN','JOR','KAZ','KEN','KIR','PRK','KOR','','KWT','KGZ','','LAO','LVA','LBN','LSO','LBR','LBY','LIE','LTU','LUX','MAC','MKD','MDG','MWI','MYS','MDV','MLI','MLT','MHL','MTQ','MRT','MUS','MYT','MEX','FSM','MID','MDA','MCO','MNG','MNE','MSR','MAR','MOZ','MMR','NAM','NRU','NPL','NLD','ANHH','NTZ','NCL','NHB','NZL','NIC','NER','NGA','NIU','NFK','MNP','NOR','OMN','PCI','PAK','PLW','PSE','PAN','PCZ','PNG','PRY','PER','PHL','PCN','POL','PRT','PRI','QAT','REU','ROU','RUS','RWA','BLM','SHN','KNA','LCA','MAF','SPM','VCT','WSM','SMR','STP','SAU','SEN','SRB','SCG','SYC','SLE','SKM','SGP','SXM','SVK','SVN','SLB','SOM','RHO','ZAF','SGS','SSD','ESP','LKA','SDN','SUR','SJM','SWZ','SWE','CHE','SYR','TWN','TJK','TZA','TZA','THA','TLS','TGO','TKL','TON','TTO','TUN','TUR','TKM','TCA','TUV','UGA','UKR','ARE','GBR','UMI','PUS','USA','HVO','URY','SUN','UZB','VUT','VEN','VNM','VDR','VGB','VIR','WAK','WLF','','ESH','YEM','YMD','YUG','ZAR','ZMB','ZWE'];
		function isoconvert(previousiso) {
			for (var i = 0; i < iso2.length; i++) {
				if (previousiso === iso2[i]){
					return iso3[i];
				}
			}
		}

		var basic = new Datamap({
		  element: document.getElementById("basic"),
			projection: 'mercator',
			responsive: true,
		  fills: {
			SignificantAdvancement: '',
			ModerateAdvancement: '',
			MinimalAdvancement: '',
			NoAdvancement: '',
			NoAssessment: ''
		  },
		  data: {
			 'USA': {
				'fillKey': 'HIGH',
				'number': 1
			 },
			 'CAN': {
				'fillKey': 'HIGH',
				'number': 2
			 }
		  },
		  geographyConfig: {
				popupTemplate: function(geography, data) {
						return ['<div class="hoverinfo"><strong>',
                         + data.number,
                        '</strong></div>'].join('');
				}
		  	}
		});
		d3.select(window).on('resize', function() {
			basic.resize();
		});
	};



</script>
</head>
<body>
	<header>
		<h1>Visualizing Forced Labor and Child Labor</h1> <!-- Working title -->
	</header>
	<div id="map">
		<div id="basic"></div>
	</div>
	<footer>
		<p><small>Data from the Department of Labor's Bureau of International Labor Affairs (ILAB)<small></p> <!-- Basic requirement part, can be moved -->
	</footer>
</body>
</html>
